import{r as m,s as v,g as f,_ as D,a as N,b as j}from"./UTA.4b15a0e1.js";import{a as S,r as C,w as b,b as k,e as t,t as g,u as r,o as A,f as y,h as _,i as M,j as T,F as I,k as w}from"./entry.ebb9cffb.js";const B={class:"flex gap-3 justify-center"},E={class:"font-mono text-9xl bg-slate-200 shadow-inner rounded p-2 text-center opacity-60"},F={class:"font-mono text-9xl bg-slate-200 shadow-inner rounded p-2 text-center opacity-60"},U={class:"font-mono text-9xl bg-slate-200 shadow-inner rounded p-2 text-center opacity-60"},V=S({__name:"DigitDisplaydigit",props:{target:null,digit:null},emits:["animation-start","animation-end","animation-update"],setup(h,{emit:s}){const c=h;var a=[0,0,0],n,o=()=>{s("animation-update")},d;const i=C(["0","0","0"]);return b(()=>c.target,u=>{s("animation-start"),a=[0,0,0];const e=u.toString().padStart(3,"0").split("").map(Number);n=m(0,3).map(l=>{const p=l===0?v(m(0,4)):v(m(0,10)),x=p.indexOf(e[l]),$=l===0?4*(l+7)+x:10*(l+7)+x;return{shuffled:p,ticks:$}}),o=()=>{s("animation-update")},d=()=>{const l=Math.round(a[0])%4;i[0]=n[0].shuffled[l].toString(),i[1]="0",i[2]="0"},f.timeline({onUpdate:d,onComplete:o}).to(a,{0:n[0].ticks,duration:5},0),console.log("digit0 change")}),b(()=>c.digit,u=>{u==1?(s("animation-start"),o=()=>{s("animation-update")},d=()=>{const e=Math.round(a[1])%10;i[1]=n[1].shuffled[e].toString()},f.timeline({onUpdate:d,onComplete:o}).to(a,{1:n[1].ticks,duration:5},0),console.log("digit1 change")):u==2&&(s("animation-start"),o=()=>{s("animation-end")},d=()=>{const e=Math.round(a[2])%10;i[2]=n[2].shuffled[e].toString()},f.timeline({onUpdate:d,onComplete:o}).to(a,{2:n[2].ticks,duration:5},0),console.log("digit2 change"))}),(u,e)=>(A(),k("div",B,[t("div",E,g(r(i)[0]),1),t("div",F,g(r(i)[1]),1),t("div",U,g(r(i)[2]),1)]))}}),W=t("div",null,[t("nav",null,[t("ul",null,[t("li",null,[t("a",{href:"/1d"},"特等奖")]),t("li",null,[t("a",{href:"/1n"},"大奖")]),t("li",null,[t("a",{href:"/"},"幸运奖")])])])],-1),O={class:"flex h-screen bg-center bg-no-repeat bg-cover bg-hero-pattern"},P=t("header",{class:"absolute w-screen flex items-center justify-center pt-[10vh]"},[t("img",{src:D,class:"scale-150 pb-40",alt:"兔年新春晚会抽奖"})],-1),z=t("div",{class:"column flex flex-col p-5"},[t("img",{src:N,alt:"鸣谢WST赞助",class:"mt-auto flex-justify center m-5 scale-125 origin-bottom-left"})],-1),J={class:"m-auto w-1/2 min-w-fit overflow-hidden rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 backdrop-blur bg-white bg-opacity-60"},K={class:"flex justify-center my-8"},L=["disabled"],R=t("div",{class:"column flex flex-col p-5"},[t("img",{src:j,alt:"鸣谢Weeee赞助",class:"mt-auto flex-justify center m-5 scale-110 origin-bottom-right"})],-1),Y=t("footer",{class:"absolute bottom-4 w-screen text-center"},[t("span",{class:"text-slate-800"},[w("© "),t("strong",null,"UTCSSA"),w(" - Alex Kuang and Junyu Yao, 2023.")])],-1),H=S({__name:"1d",setup(h){const{$confetti:s}=y().vueApp.config.globalProperties;console.log(y().vueApp);const c=_(0),a=_(2),n=_(!1),o=Array.from({length:300},(u,e)=>e+1),d=()=>{a.value==2?(console.log("end"),a.value=0,c.value=o[Math.floor(Math.random()*o.length)],o.splice(o.indexOf(c.value),1),console.log(c.value)):(console.log("next"),a.value+=1)},i=()=>{n.value=!1,s.start({particlesPerFrame:2,defaultDropRate:15,particles:[{type:"circle"},{type:"heart"},{type:"rect"}]}),setTimeout(()=>{s.stop()},2e3)};return(u,e)=>{const l=V;return A(),k(I,null,[W,t("div",O,[P,z,t("main",J,[M(l,{class:"my-8",target:r(c),digit:r(a),onAnimationStart:e[0]||(e[0]=p=>n.value=!0),onAnimationEnd:e[1]||(e[1]=p=>i()),onAnimationUpdate:e[2]||(e[2]=p=>n.value=!1)},null,8,["target","digit"]),t("div",K,[t("button",{onClick:e[3]||(e[3]=p=>d()),disabled:r(n),class:T([{"bg-gray-300":r(n),"bg-red-500 hover:bg-red-600 active:bg-red-700 active:shadow-inner shadow-md":!r(n)},"text-white text-5xl font-medium rounded-full px-8 py-2 transition-all duration-200 disabled:cursor-wait"])},g(r(n)?"Loading...":"Draw"),11,L)])]),R,Y])],64)}}});export{H as default};
